{
  "WorkItem": {
    "AffectedComponent": {
      "Name": "",
      "DisplayName": ""
    },
    "ClosedComment": "",
    "ClosedDate": null,
    "CommentCount": 1,
    "Custom": null,
    "Description": "After completing Part-6 which is Model Validation. I can create albums but when updating an existing one I encounter an error on the ```SaveChanges()``` line as following:\r\n\r\n```\r\nStore update, insert, or delete statement affected an unexpected number of rows (0). Entities may have been modified or deleted since entities were loaded. Refresh ObjectStateManager entries.\r\n```\r\n\r\nWould really appreciate some suggestions on this.",
    "LastUpdatedDate": "2013-11-05T12:41:57.543-08:00",
    "PlannedForRelease": "",
    "ReleaseVisibleToPublic": false,
    "Priority": {
      "Name": "Unassigned",
      "Severity": 0,
      "Id": 0
    },
    "ProjectName": "mvcmusicstore",
    "ReportedDate": "2013-10-23T00:36:19.603-07:00",
    "Status": {
      "Name": "Proposed",
      "Id": 1
    },
    "ReasonClosed": {
      "Name": "Unassigned"
    },
    "Summary": "EF error when updating",
    "Type": {
      "Name": "Unassigned",
      "Id": 5
    },
    "VoteCount": 1,
    "Id": 6691
  },
  "FileAttachments": [],
  "Comments": [
    {
      "Message": "I received the same error in the StoreManagerController\n. \nI set a breakpoint at the start of the Edit that is started when the POST (save) is done  \n\n   [HttpPost]\n        public ActionResult Edit(Album album)\n        {\n            if (ModelState.IsValid)\n            {\n                db.Entry(album).State = EntityState.Modified;\n                db.SaveChanges();\n                return RedirectToAction(\"Index\");\n            }\n            ViewBag.GenreId = new SelectList(db.Genres, \"GenreId\", \"Name\", album.GenreId);\n            ViewBag.ArtistId = new SelectList(db.Artists, \"ArtistId\", \"Name\", album.ArtistId);\n            return View(album);\n        }\n\nExamining the album object that holds the class values I noticed that the Album ID was = 0.\nSo the error is occurring because of an update attempt to a row key value that does not exist.\n\nHaving developed many ASP.NET web applications without MVC I always create my own SQL code. \nWhen I get an error like this I can spot it right away.\nWith MVC and all of that automated crap happening it is difficult to figure out where an ID value\nthat is supposed to get pulled from a control and stored in memory and set again in the associated\nclass object then sent back. \nI am trying to figure out where the ID went now.\n\n ",
      "PostedDate": "2013-11-05T12:41:57.543-08:00",
      "Id": 121901
    }
  ]
}
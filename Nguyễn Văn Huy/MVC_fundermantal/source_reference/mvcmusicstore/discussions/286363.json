[
  {
    "Id": "726108",
    "ThreadId": "286363",
    "Html": "\r\n<p>I am trying to get the MVC Music Store application to work with SQL Server Express.</p>\r\n<p>This task is proving far trickier than PHP / MySQL.</p>\r\n<p>I am running Windows XP SP3, SQL Server Express 2008 with Management Studio (no SP)</p>\r\n<p>and Visual Studio Express 2010 with MVC 3.0 (no SP but hotfixes and updates applied)</p>\r\n<p>I have downloaded and unzipped MvcMusicStore-v3.0.zip</p>\r\n<p>I do not want SQL Server compact edition.</p>\r\n<p>To my way of thinking I should be able to</p>\r\n<p>1) attach the MvcMusicStore.mdf in the assets folder to SQL Express</p>\r\n<p>or</p>\r\n<p>2) copy the MvcMusicStore.mdf file to the App_Data folder and 'include in project'</p>\r\n<p>then</p>\r\n<p>modify the connection string in the web.config to point to either database</p>\r\n<p>and run.</p>\r\n<p>Failing either the above I should be able to in SQL Express create a new database</p>\r\n<p>called MvcMusicStore and then run the MvcMusicStore-Create.sql file found in the</p>\r\n<p>Assets/Data folder to populate the database.</p>\r\n<p>Again, modify the web.config file to point to this database and off we go.</p>\r\n<p>There maybe an additional step where I give the ASPNET account permissions</p>\r\n<p>in SQL Server or configure Integrated Security.</p>\r\n<p>After trying various combinations of the above I have failed to get the application to work.</p>\r\n<p>Error messages include</p>\r\n<p>'Model compatibility cannot be checked because the database does not contain model metadata.'</p>\r\n<p>&nbsp;</p>\r\n<p>The databse does not look complicated as far as I can see there are only 6 tables and no stored</p>\r\n<p>procedures.</p>\r\n<p>A search on this site and ASP.Net and Google has not provided a simple, straightforward answer.</p>\r\n<p>&nbsp;</p>\r\n<p>Apart from not using PHP/MySQL what else am I doing wrong?</p>\r\n<p>&nbsp;</p>\r\n<p>Thanks for your patience</p>\r\n<p>Charlie</p>\r\n",
    "PostedDate": "2012-01-16T17:59:23.363-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "726807",
    "ThreadId": "286363",
    "Html": "<p>Hey!<br /><br />I finally got it working in SQL Express!</p>\r\n<p>Here are the steps I used if anyone is interested:</p>\r\n<p>1) create MvcMusicStore db in SQLExpress and run the MvcMusicStore-Create.sql script found in the Assets/Data folder<br />don't worry about all the errors at the start.</p>\r\n<p>2) Connection String in web.config (obviously change CHARLIECOMPUTER to your machine name</p>\r\n<p>&nbsp;&nbsp;&nbsp; &lt;add name=\"MusicStoreEntities\"<br />&nbsp;&nbsp;&nbsp;&nbsp; connectionString=\"Data Source=CHARLIECOMPUTER\\SQLEXPRESS;Initial Catalog=MvcMusicStore;Integrated Security=SSPI;\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; providerName=\"System.Data.SqlClient\"/&gt;<br /><br />I have CHARLIECOMPUTER\\ASPNET as a database user for MvcMusicStore if that's relevant.</p>\r\n<p>3)&nbsp; comment out line 34 in global.asax</p>\r\n<p>//System.Data.Entity.Database.SetInitializer(new MvcMusicStore.Models.SampleData());</p>\r\n<p>4)&nbsp; add to MusicStoreEntities.cs</p>\r\n<p>using System.Data.Entity.ModelConfiguration;<br />using System.Data.Entity.ModelConfiguration.Conventions;</p>\r\n<p>&nbsp;&nbsp;&nbsp; protected override void OnModelCreating(System.Data.Entity.DbModelBuilder modelBuilder)<br />&nbsp;&nbsp;&nbsp; {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; modelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();<br />&nbsp;&nbsp;&nbsp; }</p>\r\n<p><br />and it works!</p>\r\n<p>My thanks to <br />http://stevesmithblog.com/blog/database-cannot-be-opened-version-655/<br />and<br />http://stevesmithblog.com/blog/entity-framework-invalid-object-name-dbo-albums/</p>\r\n<p><br />Now that I have got it to work I don't think I will waste any more time on it as it looks terrible!<br /> If there are too many albums, as in Classical compared to Pop, it displays them differently in my browser (FFox).<br /><br />I just have a feeling if it is this difficult to get it to work there will be lots more problems and bad habits down the line.<br />The 'Remove from Cart' function is playing up already.</p>\r\n<p>I can't see any great steps forward over well written and unit tested webforms applications to be honest.<br />And I am not looking to get into a debate about Dependency Injection - thanks.</p>\r\n<p>Thanks for efforts Jon - it must be a thankless task at times.</p>\r\n<p>Charlie</p>",
    "PostedDate": "2012-01-17T17:24:47.333-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "726917",
    "ThreadId": "286363",
    "Html": "\r\n<div>Glad you got it to work, Charlie. I think you'd find things would go easier if you used the recommended software prereq's. Also, this really is written as a tutorial that's meant to be followed step by step. If you do that, you wouldn't run into database\r\n problems since the database is automatically built for you. </div>\r\n<div></div>\r\n<div>Also, the tutorial focus explains some of the choices I had to make along the way - for instance, I slimmed the CSS way down for people who would need to type it in, but that does cause rendering problems in Firefox as you noticed. Will fix that in the\r\n next release.</div>\r\n<div></div>\r\n<div>I would agree that you can build great, well written applications with Web Forms. I will say that - having built a lot of sites on both technologies, and in a few cases built essentially the exact same app in both - there's a transition point where the\r\n structure and patterns focus in MVC make it very worthwhile. Large Web Forms applications take a good amount of discipline to keep your architecture clean, whereas MVC makes that the default behavior. Also, while\r\n<a href=\"http://ASP.NET\">ASP.NET</a> 4 Web Forms do improve the HTML markup, it's definitely easier to write nice HTML in MVC.<br>\r\n</div>\r\n<div>On Tue, Jan 17, 2012 at 5:24 PM, charlie303 <span dir=\"ltr\">&lt;<a href=\"mailto:notifications@codeplex.com\">notifications@codeplex.com</a>&gt;</span> wrote:<br>\r\n<blockquote style=\"margin:0px 0px 0px 0.8ex; padding-left:1ex; border-left-color:rgb(204,204,204); border-left-width:1px; border-left-style:solid\">\r\n<div>\r\n<p>From: charlie303</p>\r\n<div>\r\n<p>Hey!<br>\r\n<br>\r\nI finally got it working in SQL Express!</p>\r\n<p>Here are the steps I used if anyone is interested:</p>\r\n<p>1) create MvcMusicStore db in SQLExpress and run the MvcMusicStore-Create.sql script found in the Assets/Data folder<br>\r\ndon't worry about all the errors at the start.</p>\r\n<p>2) Connection String in web.config (obviously change CHARLIECOMPUTER to your machine name</p>\r\n<p>&lt;add name=&quot;MusicStoreEntities&quot;<br>\r\nconnectionString=&quot;Data Source=CHARLIECOMPUTER\\SQLEXPRESS;Initial Catalog=MvcMusicStore;Integrated Security=SSPI;&quot;<br>\r\nproviderName=&quot;System.Data.SqlClient&quot;/&gt;<br>\r\n<br>\r\nI have CHARLIECOMPUTER\\ASPNET as a database user for MvcMusicStore if that's relevant.</p>\r\n<p>3) comment out line 34 in global.asax</p>\r\n<p>//System.Data.Entity.Database.SetInitializer(new MvcMusicStore.Models.SampleData());</p>\r\n<p>4) add to MusicStoreEntities.cs</p>\r\n<p>using System.Data.Entity.ModelConfiguration;<br>\r\nusing System.Data.Entity.ModelConfiguration.Conventions;</p>\r\n<p>protected override void OnModelCreating(System.Data.Entity.DbModelBuilder modelBuilder)<br>\r\n{<br>\r\nmodelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();<br>\r\n}</p>\r\n<p><br>\r\nand it works!</p>\r\n<p>My thanks to <br>\r\n<a href=\"http://stevesmithblog.com/blog/database-cannot-be-opened-version-655/\" target=\"_blank\">http://stevesmithblog.com/blog/database-cannot-be-opened-version-655/</a><br>\r\nand<br>\r\n<a href=\"http://stevesmithblog.com/blog/entity-framework-invalid-object-name-dbo-albums/\" target=\"_blank\">http://stevesmithblog.com/blog/entity-framework-invalid-object-name-dbo-albums/</a></p>\r\n<p><br>\r\nNow that I have got it to work I don't think I will waste any more time on it as it looks terrible!<br>\r\nIf there are too many albums, as in Classical compared to Pop, it displays them differently in my browser (FFox).<br>\r\n<br>\r\nI just have a feeling if it is this difficult to get it to work there will be lots more problems and bad habits down the line.<br>\r\nThe 'Remove from Cart' function is playing up already.</p>\r\n<p>I can't see any great steps forward over well written and unit tested webforms applications to be honest.<br>\r\nAnd I am not looking to get into a debate about Dependency Injection - thanks.</p>\r\n<p>Thanks for efforts Jon - it must be a thankless task at times.</p>\r\n<p>Charlie</p>\r\n</div>\r\n<div>\r\n<div>\r\n<p>Read the <a href=\"http://mvcmusicstore.codeplex.com/discussions/286363#post726807\" target=\"_blank\">\r\nfull discussion online</a>.</p>\r\n<p>To add a post to this discussion, reply to this email (<a href=\"mailto:mvcmusicstore@discussions.codeplex.com?subject=[mvcmusicstore:286363]\" target=\"_blank\">mvcmusicstore@discussions.codeplex.com</a>)</p>\r\n<p>To start a new discussion for this project, email <a href=\"mailto:mvcmusicstore@discussions.codeplex.com\" target=\"_blank\">\r\nmvcmusicstore@discussions.codeplex.com</a></p>\r\n<p>You are receiving this email because you subscribed to this discussion on CodePlex. You can\r\n<a href=\"https://mvcmusicstore.codeplex.com/subscriptions/thread/project/edit\" target=\"_blank\">\r\nunsubscribe or change your settings</a> on codePlex.com.</p>\r\n<p>Please note: Images and attachments will be removed from emails. Any posts to this discussion will also be available online at\r\n<a href=\"http://codeplex.com\" target=\"_blank\">codeplex.com</a></p>\r\n</div>\r\n</div>\r\n</div>\r\n</blockquote>\r\n</div>\r\n<br>\r\n",
    "PostedDate": "2012-01-18T01:11:33.637-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "795332",
    "ThreadId": "286363",
    "Html": "<p>Done! it works! THANKS!!!!</p>",
    "PostedDate": "2012-02-22T08:44:27.613-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "804963",
    "ThreadId": "286363",
    "Html": "<p>Good Job Charlie, I tried to get it work without success, but you help me!!!.</p>",
    "PostedDate": "2012-03-03T12:06:58.823-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "818094",
    "ThreadId": "286363",
    "Html": "<p>Thanks it works great!</p>\r\n<p>There is an error with remove from cart. This is because the jquery script files included are&nbsp; version 1.5.1.</p>\r\n<p>The muscistore project itself is using jquery-1.4.4.min.js in the views.</p>\r\n<p>Guess a little error. Replace all instances of 1.4.4 with 1.5.1 and all works well.</p>",
    "PostedDate": "2012-03-31T02:47:03.917-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "832311",
    "ThreadId": "286363",
    "Html": "<p>I'm trying to add on to the work I've done with SQL Server Express, and also using this opportunity to learn Entity Framework Code First, so I'm trying to learn multiple new things. &nbsp;Is there an older version of the tutorial that includes the setup for SQL Server Express and does Code First? &nbsp;</p>",
    "PostedDate": "2012-05-04T12:19:13.047-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "896238",
    "ThreadId": "286363",
    "Html": "<p>Thanks Charlie. Your steps help me.</p>",
    "PostedDate": "2012-08-06T15:48:04.727-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "914948",
    "ThreadId": "286363",
    "Html": "<p>Thanks so much, Charlie. Your steps give me great happiness.</p>",
    "PostedDate": "2012-09-19T19:33:21.713-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1116700",
    "ThreadId": "286363",
    "Html": "I created MvcMusicStore as a database in SQL Server 2012.<br />\n<br />\nI ran the script to create the MusicStore database from CodePlex but it did not create the tables and/or insert data into those tables. <br />\n<br />\nUnless I see the tables with data in SQL Server 2012 I have to assume I still have an empty database. <br />\n<br />\nWas this script designed to load a database in SQL Server Compact Edition only? <br />\n<br />\nI am not going to load another SQL Server version on my laptop. It only creates conflicts.<br />\n<br />\nI'm using a free WROX MVC 4 for beginners which uses the MvcMusicStore database but being experienced with SQL Server I like having full control over my databases and all of them are handled the same way when I connect to my database engine. I like knowing I can see all of my tables there then go to Visual Studio 2010 and connect to my database and verify what I see in SQL Server Management Studio. <br />\n<br />\nAnyway I might just create the tables manually then pull parts of the scripts T-SQL commands and build the indexes and constraints before inserting the data.<br />\n<br />\nWhat scares me most about the WROX book on MVC 4 is suggesting the creation of a local database from model classes. <br />\n<br />\nI don't like the idea of a generated database at all.<br />\n<br />\nI build my databases first with a sound relational model then build my applications then configure the connections to the database and finally build my SQL statments and adapters as I need them all using the one connection string through the web configuration file.<br />\n<br />\nResearching.....<br />\n",
    "PostedDate": "2013-11-01T13:45:22.757-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1116713",
    "ThreadId": "286363",
    "Html": "(removed)<br />\n",
    "PostedDate": "2013-11-01T14:45:30.947-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1116716",
    "ThreadId": "286363",
    "Html": "I did get one table created but I had to build the script myself. So I think I can salvage this by going into the create script provided by CodePlex and making adjustments based on the one generated script that worked. After all manually building all this would be a monumental pain.<br />\n",
    "PostedDate": "2013-11-01T14:51:17.563-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
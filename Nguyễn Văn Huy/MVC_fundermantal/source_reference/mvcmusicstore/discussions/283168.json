[
  {
    "Id": "713036",
    "ThreadId": "283168",
    "Html": "<p>I got \"An error occurred while executing the command definition. See the inner exception for details.\" error when run the project. I actually downgraded the sql server to 2008. and my connection string as below. i added Database.SetInitializer&lt;MusicStoreEntities&gt;(null); in global.asax as  well....</p>\n<p>&lt;connectionStrings&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;add name=\"MusicStoreEntities\"<br /> &nbsp;&nbsp;&nbsp;&nbsp; connectionString=\"Data Source=localhost\\myinstance;Initial Catalog=MvcMusicStore;User ID=sa;Password=password\" providerName=\"System.Data.SqlClient\"/&gt;<br /> &nbsp; &lt;/connectionStrings&gt;</p>\n<p>the line failed in HomeController.cs &gt; private List&lt;Album&gt; GetTopSellingAlbums(int count) &gt; return storeDB.Albums<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .OrderByDescending(a =&gt; a.OrderDetails.Count())<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .Take(count)<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ToList();</p>\n<p>inner exception is:</p>\n<p>System.Data.EntityCommandExecutionException was unhandled by user code<br />&nbsp; Message=An error occurred while executing the command definition. See the inner exception for details.<br />&nbsp; Source=System.Data.Entity<br />&nbsp; StackTrace:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.EntityClient.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Objects.Internal.ObjectQueryExecutionPlan.Execute[TResultType](ObjectContext context, ObjectParameterCollection parameterValues)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Objects.ObjectQuery`1.System.Collections.Generic.IEnumerable&lt;T&gt;.GetEnumerator()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Entity.Internal.Linq.InternalQuery`1.GetEnumerator()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Entity.Infrastructure.DbQuery`1.System.Collections.Generic.IEnumerable&lt;TResult&gt;.GetEnumerator()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MvcMusicStore.Controllers.HomeController.GetTopSellingAlbums(Int32 count) in C:\\inetpub\\wwwroot\\MvcMusicStore-v3.0\\MvcMusicStore-Completed\\MvcMusicStore\\Controllers\\HomeController.cs:line 28<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at MvcMusicStore.Controllers.HomeController.Index() in C:\\inetpub\\wwwroot\\MvcMusicStore-v3.0\\MvcMusicStore-Completed\\MvcMusicStore\\Controllers\\HomeController.cs:line 18<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at lambda_method(Closure , ControllerBase , Object[] )<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Web.Mvc.ControllerActionInvoker.&lt;&gt;c__DisplayClass15.&lt;InvokeActionMethodWithFilters&gt;b__12()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter filter, ActionExecutingContext preContext, Func`1 continuation)<br />&nbsp; InnerException: System.Data.SqlClient.SqlException<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Message=Invalid object name 'dbo.Albums'.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Source=.Net SqlClient Data Provider<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ErrorCode=-2146232060<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; class=\"16\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LineNumber=1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Number=208<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Procedure=\"\"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Server=localhost\\myinstance<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; State=1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; StackTrace:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlDataReader.ConsumeMetaData()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlDataReader.get_MetaData()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, DbAsyncResult result)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at System.Data.EntityClient.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; InnerException:</p>\n<p>please kindly advice, thanks.</p>",
    "PostedDate": "2011-12-15T19:42:09.627-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
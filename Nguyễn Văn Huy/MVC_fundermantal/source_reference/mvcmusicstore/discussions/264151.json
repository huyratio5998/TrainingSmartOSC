[
  {
    "Id": "638321",
    "ThreadId": "264151",
    "Html": "\r\n<p>I can't log in to StoreManager. And I can't create user or role. I have SQL connection error. Also on Security tab I see 2 users and 0 roles. I checked in tables - there's 1 role and 2 users.</p>\r\n<p>I have VS 2010 SP1 and SQL 2008 installed on the named instance SQL2008DEV - I've attached&nbsp;ASPNETDB.MDF from completed solution to SQL (with the name &quot;aspnetdb&quot;)</p>\r\n<p>so my connection strings are</p>\r\n<p>&lt;connectionStrings&gt;&nbsp; &nbsp;</p>\r\n<p>&lt;add name=&quot;MusicStoreEntities&quot;&nbsp; &nbsp; &nbsp;connectionString=&quot;Data Source=|DataDirectory|MvcMusicStore.sdf&quot;&nbsp; &nbsp; &nbsp;providerName=&quot;System.Data.SqlServerCe.4.0&quot;/&gt;&nbsp; &nbsp;</p>\r\n<p>&lt;add name=&quot;MembershipSQLProvider&quot;&nbsp; &nbsp; &nbsp;connectionString=&quot;Data Source=.\\SQL2008DEV;Initial Catalog=aspnetdb;Persist Security Info=True;User ID=asp;Pwd=111&quot;&nbsp; &nbsp; &nbsp;providerName=&quot;System.Data.SqlClient&quot; /&gt;&nbsp;</p>\r\n<p>&lt;/connectionStrings&gt;</p>\r\n<p>Connection string are OK - I can open in server explorer and browse without problems. Without membership Store Manager works OK.</p>\r\n<p>I put a breakpoint in&nbsp;ActionController :&nbsp;authentification went OK (&nbsp;Membership.ValidateUser(model.UserName, model.Password) == true ) but after Redirect(returnUrl) I'm getting an error :</p>\r\n<p><strong>SQLExpress database file auto-creation error:&nbsp;</strong>The connection string specifies a local Sql Server Express instance using a database location within the application's App_Data directory</p>\r\n<p>I searched my solution (I followed all steps of the tutorial) - there's no connection string with SQLExpress or App_Data anywhere.</p>\r\n<p>&lt;membership&gt;&nbsp; &nbsp; &nbsp;</p>\r\n<p>&lt;providers&gt;&nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n<p>&lt;clear/&gt;&nbsp; &nbsp; &nbsp; &nbsp;</p>\r\n<p>&lt;add name=&quot;AspNetSqlMembershipProvider&quot; type=&quot;System.Web.Security.SqlMembershipProvider&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connectionStringName=&quot;MembershipSQLProvider&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;enablePasswordRetrieval=&quot;false&quot;\r\n enablePasswordReset=&quot;true&quot; requiresQuestionAndAnswer=&quot;false&quot; requiresUniqueEmail=&quot;false&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;maxInvalidPasswordAttempts=&quot;5&quot; minRequiredPasswordLength=&quot;6&quot; minRequiredNonalphanumericCharacters=&quot;0&quot; passwordAttemptWindow=&quot;10&quot;&nbsp;\r\n &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;applicationName=&quot;/&quot; /&gt;&nbsp; &nbsp; &nbsp;</p>\r\n<p>&lt;/providers&gt;&nbsp; &nbsp;</p>\r\n<p>&lt;/membership&gt;</p>\r\n",
    "PostedDate": "2011-07-06T12:10:03.41-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "639928",
    "ThreadId": "264151",
    "Html": "<p>I think the problem is that you've only pointed membership to your new database, but roles (mapping users to roles, necessary for assigning a user to the Administrator role) hasn't been set and is still pointing at the default, which is SQL Express. You  also need to configure your role provider in your web.config. See the following description:&nbsp;<a href=\"http://odetocode.com/Articles/428.aspx\">http://odetocode.com/Articles/428.aspx</a></p>\n<p>So the role / membership portion of your web.config would look like this:</p>\n<p>&nbsp;</p>\n<div style=\"color: black; background-color: white;\">\n<pre><span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">roleManager</span> <span style=\"color: red;\">enabled</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">true</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">&gt;</span>\n\t<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">providers</span><span style=\"color: blue;\">&gt;</span>\n\t\t<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">clear</span><span style=\"color: blue;\">/&gt;</span>\n\t\t<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">add</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">AspNetSqlRoleProvider</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">connectionStringName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">MembershipSQLProvider</span><span style=\"color: black;\">\"</span>\n\t\t\t<span style=\"color: red;\">applicationName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">/</span><span style=\"color: black;\">\"</span>\n\t\t\t<span style=\"color: red;\">type</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">System.Web.Security.SqlRoleProvider</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>\n\t<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">providers</span><span style=\"color: blue;\">&gt;</span>\n<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">roleManager</span><span style=\"color: blue;\">&gt;</span>\n<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">membership</span><span style=\"color: blue;\">&gt;</span>     \n\t<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">providers</span><span style=\"color: blue;\">&gt;</span>       \n\t<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">clear</span><span style=\"color: blue;\">/&gt;</span>       \n\t<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">add</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">AspNetSqlMembershipProvider</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">type</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">System.Web.Security.SqlMembershipProvider</span><span style=\"color: black;\">\"</span> \n            <span style=\"color: red;\">connectionStringName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">MembershipSQLProvider</span><span style=\"color: black;\">\"<br /></span>             <span style=\"color: red;\">enablePasswordRetrieval</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">false</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">enablePasswordReset</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">true</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">requiresQuestionAndAnswer</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">false</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">requiresUniqueEmail</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">false</span><span style=\"color: black;\">\"<br /></span>             <span style=\"color: red;\">maxInvalidPasswordAttempts</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">5</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">minRequiredPasswordLength</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">6</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">minRequiredNonalphanumericCharacters</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">0</span><span style=\"color: black;\">\"</span> <span style=\"color: red;\">passwordAttemptWindow</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">10</span><span style=\"color: black;\">\"<br /></span>             <span style=\"color: red;\">applicationName</span><span style=\"color: blue;\">=</span><span style=\"color: black;\">\"</span><span style=\"color: blue;\">/</span><span style=\"color: black;\">\"</span> <span style=\"color: blue;\">/&gt;</span>     \n\t<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">providers</span><span style=\"color: blue;\">&gt;</span>   \n<span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">membership</span><span style=\"color: blue;\">&gt;</span>\n</pre>\n</div>\n<p>&nbsp;</p>",
    "PostedDate": "2011-07-09T12:50:19.137-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "640455",
    "ThreadId": "264151",
    "Html": "<p>Thanks. It's solved the problem.</p>",
    "PostedDate": "2011-07-11T07:33:50.42-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "661293",
    "ThreadId": "264151",
    "Html": "<p>Hello, i have a question: could we use a SQL Server CE instead of commercial versions of SQL Server? If so, how could we connect to it: the standart connection string doesn't work</p>\r\n<p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre> <span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">connectionStrings</span><span style=\"color: blue;\">&gt;</span>\r\n<span style=\"color: blue;\">&lt;</span><span style=\"color: #a31515;\">add</span> <span style=\"color: red;\">name</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"MembershipSQLProvider\"</span> <span style=\"color: red;\">connectionString</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"Data Source=|DataDirectory|aspnetdb.sdf\"</span>  <span style=\"color: red;\">providerName</span><span style=\"color: blue;\">=</span><span style=\"color: blue;\">\"System.Data.SqlServerCe.4.0\"</span><span style=\"color: blue;\">/&gt;</span>\r\n <span style=\"color: blue;\">&lt;/</span><span style=\"color: #a31515;\">connectionStrings</span><span style=\"color: blue;\">&gt;</span>\r\n</pre>\r\n</div>\r\n</p>",
    "PostedDate": "2011-08-21T13:20:30.467-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "664808",
    "ThreadId": "264151",
    "Html": "<p>Experiencing the same problem as eugeneL. (lol on the same name) I'm following the version3 of the tutorial and I can't seem to get the tool working.</p>\r\n<p>\r\n<div style=\"color: black; background-color: white;\">\r\n<pre> &lt;connectionStrings&gt;\r\n    &lt;add name=<span style=\"color: #a31515;\">\"MusicStoreEntities\"</span>\r\n         connectionString=<span style=\"color: #a31515;\">\"Data Source=|DataDirectory|MvcMusicStore.sdf\"</span>\r\n         providerName=<span style=\"color: #a31515;\">\"System.Data.SqlServerCe.4.0\"</span>\r\n         /&gt;\r\n  &lt;/connectionStrings&gt;\r\n</pre>\r\n</div>\r\n</p>",
    "PostedDate": "2011-08-29T06:05:55.417-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "664813",
    "ThreadId": "264151",
    "Html": "<p>Whoopss. got it working. This is weird but for some strange reason my SQL Server Express service wasn't started thus the error. Make sure you check your services to see if SQL Server is started. :D</p>",
    "PostedDate": "2011-08-29T06:16:05.833-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "664991",
    "ThreadId": "264151",
    "Html": "<p>In my case, it was a different subversion of SQL Server CE. I had to redownload and reinstall the SQL Server CE. It's not very obvious, because SQL Server 2008 Developer's edition include CE 4.0 version already</p>",
    "PostedDate": "2011-08-29T11:52:47.52-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "667009",
    "ThreadId": "264151",
    "Html": "<p>Both Eugenes:</p>\r\n<p>Glad you got this figured out. I think installing via WebPI should check for your SQL Server CE version, but I'm not sure. So are you using the Universal Providers for membership?&nbsp;<a href=\"http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx\">http://www.hanselman.com/blog/IntroducingSystemWebProvidersASPNETUniversalProvidersForSessionMembershipRolesAndUserProfileOnSQLCompactAndSQLAzure.aspx</a></p>",
    "PostedDate": "2011-09-02T14:13:36.94-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
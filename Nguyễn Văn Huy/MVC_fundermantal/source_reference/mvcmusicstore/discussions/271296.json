[
  {
    "Id": "666870",
    "ThreadId": "271296",
    "Html": "\r\n<p>Hello everyone! Is anybody able to show how would the <strong>shopping cart</strong> module (Tutorial point #8.) look like adapted to\r\n<strong>LINQ to SQL</strong> instead of Entity Framework? I would be most grateful!</p>\r\n<p>Thank you in advance.</p>\r\n",
    "PostedDate": "2011-09-02T08:06:32.95-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "674258",
    "ThreadId": "271296",
    "Html": "<p>First of all I'd like to stress that I'm a beginner.</p>\n<p>I've been following a tutorial on how to write a an ASP.NET MVC3 site (by Scott Guthrie). My project is almost finished, all I need are shopping cart and checkout modules. That tutorial doesn't include that but I've found one in MVC Music Store. The only  problem is that this MusicStore was based on Entity Framework and my project is based on LINQ to SQL.</p>\n<p>I added references to Entity Framework. However when I start the application it throws an error</p>\n<blockquote>\n<p>Partial declarations of 'SklepAlfa.Models.SklepAlfaModelDataContext' must not specify different base classes</p>\n</blockquote>\n<p>(This happens when I add DbContext so it looks like this: <code>public partial class SklepAlfaModelDataContext : DbContext</code>)</p>\n<p>&nbsp;</p>\n<p>Apart from that I get other errors.</p>\n<pre class=\"default prettyprint\"><code><span class=\"kwd\">public</span><span class=\"pln\"> </span><span class=\"kwd\">void</span><span class=\"pln\"> </span><span class=\"typ\">DodajDoKoszyka</span><span class=\"pun\">(</span><span class=\"typ\">Produkty</span><span class=\"pln\"> produkt</span><span class=\"pun\">)</span><span class=\"pln\"><br /></span><span class=\"pun\">{</span><span class=\"pln\"><br />&nbsp; </span><span class=\"com\">&nbsp;</span><span class=\"pln\"><br />&nbsp; </span><span class=\"kwd\">var</span><span class=\"pln\"> koszykPrzedmiot </span><span class=\"pun\">=</span><span class=\"pln\"> sklepBaza</span><span class=\"pun\">.</span><span class=\"typ\">Koszyk</span><span class=\"pun\">.</span><span class=\"typ\">SingleOrDefault</span><span class=\"pun\">(</span><span class=\"pln\">c </span><span class=\"pun\">=&gt;</span><span class=\"pln\"> c</span><span class=\"pun\">.</span><span class=\"pln\">id_koszyka </span><span class=\"pun\">==</span><span class=\"pln\"> id_koszyka_zakupowego </span><span class=\"pun\">&amp;&amp;</span><span class=\"pln\"> c</span><span class=\"pun\">.</span><span class=\"pln\">id_produktu </span><span class=\"pun\">==</span><span class=\"pln\"> produkt</span><span class=\"pun\">.</span><span class=\"pln\">id_produktu</span><span class=\"pun\">);</span><span class=\"pln\">&nbsp;</span></code><code><span class=\"com\"> //in this line I get the error quoted below the code</span></code><br /><code><span class=\"pln\"><br />&nbsp; </span><span class=\"kwd\">if</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">koszykPrzedmiot </span><span class=\"pun\">==</span><span class=\"pln\"> </span><span class=\"kwd\">null</span><span class=\"pun\">)</span><span class=\"pln\"><br />&nbsp; </span><span class=\"pun\">{</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp;koszykPrzedmiot </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"kwd\">new</span><span class=\"pln\"> </span><span class=\"typ\">Koszyk</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp;</span><span class=\"pun\">{</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp; &nbsp; id_produktu </span><span class=\"pun\">=</span><span class=\"pln\"> produkt</span><span class=\"pun\">.</span><span class=\"pln\">id_produktu</span><span class=\"pun\">,</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp; &nbsp; id_koszyka </span><span class=\"pun\">=</span><span class=\"pln\"> id_koszyka_zakupowego</span><span class=\"pun\">,</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp; &nbsp; licznik </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">,</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp; &nbsp; data_utworzenia </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"typ\">DateTime</span><span class=\"pun\">.</span><span class=\"typ\">Now</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp;</span><span class=\"pun\">};</span><span class=\"pln\"><br />&nbsp; &nbsp; &nbsp; &nbsp; sklepBaza</span><span class=\"pun\">.</span><span class=\"typ\">Koszyk</span><span class=\"pun\">.</span><span class=\"typ\">Add</span><span class=\"pun\">(</span><span class=\"pln\">koszykPrzedmiot</span><span class=\"pun\">);</span><span class=\"pln\"><br />&nbsp; </span><span class=\"pun\">}</span><span class=\"pln\"><br />&nbsp; </span><span class=\"kwd\">else</span><span class=\"pln\"><br />&nbsp; </span><span class=\"pun\">{</span><span class=\"pln\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp;koszykPrzedmiot</span><span class=\"pun\">.</span><span class=\"pln\">licznik</span><span class=\"pun\">++;</span><span class=\"pln\"><br />&nbsp; </span><span class=\"pun\">}</span><span class=\"pln\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp;sklepBaza</span><span class=\"pun\">.</span><span class=\"typ\">SubmitChanges</span><span class=\"pun\">();</span><span class=\"pln\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br /></span><span class=\"pun\">}<br /><br /></span></code><p><strong>Error</strong>:</p><p>Value cannot be null. Parameter name: source</p><br /><p>But when I manually add those three tables Koszyk(<em>Cart</em>), Zamowienie(<em>Order</em>), SzczegolyZamowienia(<em>OrderDetails</em>) in Server Explorer and drag them to de designer to my <code>SklepAlfaModel.dbml</code> then I get the following error for each of the variables in those tables:</p>The type 'SklepAlfa.Models.Koszyk' already contains a definition for '<em>variable</em>'\n<p>&nbsp;</p><p>Why does it happen? What should I do? Does any of this errors have anything to do with that <code>DbContext</code>missing? Why can't I use it?</p><br /></pre>",
    "PostedDate": "2011-09-20T09:35:50.863-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
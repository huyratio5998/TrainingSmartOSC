[
  {
    "Id": "855819",
    "ThreadId": "361498",
    "Html": "\r\n<div>\r\n<p>I'm completely lost. I'm trying to setup the MvcMusicStore .Net app (http://mvcmusicstore.codeplex.com/) with MySQL but I got several errors when I compile the project;</p>\r\n<p>I've read the documentation at <a rel=\"nofollow\" href=\"http://dev.mysql.com\">http://dev.mysql.com</a> about using .Net Entity Framework with MySQL however I'm a beginner with EF and those are the steps that I've made without success:</p>\r\n<ul>\r\n<li>\r\n<p>I ve already installed MySQL Server 5.5</p>\r\n</li><li>\r\n<p>downloaded MvcMusicStore at <a rel=\"nofollow\" href=\"http://mvcmusicstore.codeplex.com/downloads/get/238258\">\r\nhttp://mvcmusicstore.codeplex.com/downloads/get/238258</a></p>\r\n</li><li>\r\n<p>installed MySQL Connector Net 6.4.4 and created db in mysql: CREATE DATABASE <code>\r\nmvcmusicstore</code> /*!40100 CHARACTER SET utf8 COLLATE utf8_general_ci */;</p>\r\n</li><li>\r\n<p>added following references to the project MvcMusicStore: mysql.data, (mysql.data.cf not added or i get an error), mysql.data.entity, mysql.web (for each library, in the properties, selected &quot;true&quot; to copy the dll in the bin folder)</p>\r\n</li><li>\r\n<p>in &quot;web.config&quot; replaced:</p>\r\n<pre><code><span></span><div style=\"color:black; background-color:white\"><pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">connectionStrings</span><span style=\"color:blue\">&gt;</span>\r\n<span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">add</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MusicStoreEntities</span><span style=\"color:black\">&quot;</span>\r\n<span style=\"color:red\">connectionString</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Data Source=|DataDirectory|MvcMusicStore.sdf</span><span style=\"color:black\">&quot;</span>\r\n<span style=\"color:red\">providerName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">System.Data.SqlServerCe.4.0</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">/&gt;</span>\r\n<span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">connectionStrings</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<span></span><span><br></span></code></pre>\r\n</li></ul>\r\n<p>with:</p>\r\n<pre><code><span>&nbsp; &nbsp; </span><span></span><div style=\"color:black; background-color:white\"><pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">connectionStrings</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">add</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MusicStoreEntities</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">connectionString</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">Server=127.0.0.1; Database=mvc_store; Uid=root; Pwd={* my password *};</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">providerName</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySQL Data Provider</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">connectionStrings</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">system.data</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DbProviderFactories</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">add</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySQL Data Provider</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">invariant</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySql.Data.MySqlClient</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">description</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">.Net Framework Data Provider for MySQL</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.4.4.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DbProviderFactories</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">system.data</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<span></span><span><br></span></code></pre>\r\n<ul>\r\n<li>cleaned project -&gt; compiled &amp; recompiled, then I got the error: </li></ul>\r\n<p>&quot;An error occurred creating the configuration section handler for system.data: Column 'InvariantName' is constrained to be unique. Value 'MySql.Data.MySqlClient' is already present.&quot;</p>\r\n<p>so I ve replaced the &quot;dbproviderfactories&quot; section with the code found at <a href=\"http://stackoverflow.com/questions/5764765/how-to-use-mysql-and-entity-framework-4-1-code-first\">\r\nHow to use MySql and Entity Framework 4.1 code first</a></p>\r\n<pre><code><span>&nbsp; &nbsp; </span><span></span><div style=\"color:black; background-color:white\"><pre><span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">DbProviderFactories</span><span style=\"color:blue\">&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">remove</span> <span style=\"color:red\">invariant</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySql.Data.MySqlClient</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;</span><span style=\"color:#a31515\">add</span> <span style=\"color:red\">name</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySQL Data Provider</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">invariant</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySql.Data.MySqlClient</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">description</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">.Net Framework Data Provider for MySQL</span><span style=\"color:black\">&quot;</span>\r\n    <span style=\"color:red\">type</span><span style=\"color:blue\">=</span><span style=\"color:black\">&quot;</span><span style=\"color:blue\">MySql.Data.MySqlClient.MySqlClientFactory, MySql.Data, Version=6.4.4.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d</span><span style=\"color:black\">&quot;</span> <span style=\"color:blue\">/&gt;</span>\r\n    <span style=\"color:blue\">&lt;/</span><span style=\"color:#a31515\">DbProviderFactories</span><span style=\"color:blue\">&gt;</span>\r\n</pre>\r\n</div>\r\n<span></span><span><br></span></code></pre>\r\n<ul>\r\n<li>\r\n<p>recompiled, then I got the error &quot;cannot find the data provider&quot;:</p>\r\n<pre><code><span></span><div style=\"color:black; background-color:white\"><pre>Details:\r\nArgumentException: Can not find the <span style=\"color:blue\">data</span> provider. Net Framework required. It may not be installed.\r\n\r\nError <span style=\"color:blue\">in</span> the source code:\r\n\r\nRow 17:         ' the albums with the highest count\r\nRow 18:\r\nRow 19:         Return storeDB.Albums.OrderByDescending(Function(a) a.OrderDetails.Count()).Take(count).ToList()\r\nRow 20:     End Function\r\nRow 21: End Class\r\n\r\nFile: C:\\{...}\\MvcMusicStore<span style=\"color:gray\">-</span>Completed\\MvcMusicStore\\Controllers\\HomeController.vb    Row: 19\r\n\r\nstack:\r\n\r\n<span style=\"color:gray\">[</span><span style=\"color:teal\">ArgumentException: Can not find the data provider. Net Framework required. It may not be installed.</span><span style=\"color:gray\">]</span>\r\nSystem.Data.Common.DbProviderFactories.GetFactory(String providerInvariantName) <span style=\"color:gray\">&#43;</span>1420503\r\nSystem.Data.Entity.Internal.LazyInternalConnection.TryInitializeFromAppConfig(String name) <span style=\"color:gray\">&#43;</span>393\r\nSystem.Data.Entity.Internal.LazyInternalConnection.Initialize() <span style=\"color:gray\">&#43;</span>47\r\nSystem.Data.Entity.Internal.LazyInternalConnection.get_ConnectionHasModel() <span style=\"color:gray\">&#43;</span>9\r\nSystem.Data.Entity.Internal.LazyInternalContext.InitializeContext() <span style=\"color:gray\">&#43;</span>262\r\nSystem.Data.Entity.Internal.InternalContext.GetEntitySetAndBaseTypeForType(Type entityType) <span style=\"color:gray\">&#43;</span>18\r\nSystem.Data.Entity.Internal.Linq.InternalSet`1.Initialize() <span style=\"color:gray\">&#43;</span>63\r\nSystem.Data.Entity.Internal.Linq.InternalSet`1.get_InternalContext() <span style=\"color:gray\">&#43;</span>15\r\nSystem.Data.Entity.Infrastructure.DbQuery`1.System.Linq.IQueryable.get_Provider() <span style=\"color:gray\">&#43;</span>37\r\nSystem.Linq.Queryable.OrderByDescending(IQueryable`1 source, Expression`1 keySelector) <span style=\"color:gray\">&#43;</span>66\r\nMvcMusicStore.HomeController.GetTopSellingAlbums(Int32 count) <span style=\"color:blue\">in</span> C:\\Users\\Max\\Desktop\\Projects\\MvcStore\\MvcMusicStore<span style=\"color:gray\">-</span>Completed\\MvcMusicStore\\Controllers\\HomeController.vb:19\r\nMvcMusicStore.HomeController.Index() <span style=\"color:blue\">in</span> C:\\Users\\Max\\Desktop\\Projects\\MvcStore\\MvcMusicStore<span style=\"color:gray\">-</span>Completed\\MvcMusicStore\\Controllers\\HomeController.vb:10\r\nlambda_method(Closure , ControllerBase , Object[] ) <span style=\"color:gray\">&#43;</span>96\r\nSystem.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters) <span style=\"color:gray\">&#43;</span>17\r\nSystem.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters) <span style=\"color:gray\">&#43;</span>208\r\nSystem.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters) <span style=\"color:gray\">&#43;</span>27\r\nSystem.Web.Mvc.&lt;<span style=\"color:gray\">&gt;</span>c__DisplayClass15.&lt;InvokeActionMethodWithFilters<span style=\"color:gray\">&gt;</span>b__12() <span style=\"color:gray\">&#43;</span>55\r\nSystem.Web.Mvc.ControllerActionInvoker.InvokeActionMethodFilter(IActionFilter <span style=\"color:blue\">filter</span>, ActionExecutingContext preContext, Func`1 continuation) <span style=\"color:gray\">&#43;</span>263\r\nSystem.Web.Mvc.&lt;<span style=\"color:gray\">&gt;</span>c__DisplayClass17.&lt;InvokeActionMethodWithFilters<span style=\"color:gray\">&gt;</span>b__14() <span style=\"color:gray\">&#43;</span>19\r\nSystem.Web.Mvc.ControllerActionInvoker.InvokeActionMethodWithFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor, IDictionary`2 parameters) <span style=\"color:gray\">&#43;</span>191\r\nSystem.Web.Mvc.ControllerActionInvoker.InvokeAction(ControllerContext controllerContext, String actionName) <span style=\"color:gray\">&#43;</span>343\r\nSystem.Web.Mvc.Controller.ExecuteCore() <span style=\"color:gray\">&#43;</span>116\r\nSystem.Web.Mvc.ControllerBase.Execute(RequestContext requestContext) <span style=\"color:gray\">&#43;</span>97\r\nSystem.Web.Mvc.ControllerBase.System.Web.Mvc.IController.Execute(RequestContext requestContext) <span style=\"color:gray\">&#43;</span>10\r\nSystem.Web.Mvc.&lt;<span style=\"color:gray\">&gt;</span>c__DisplayClassb.&lt;BeginProcessRequest<span style=\"color:gray\">&gt;</span>b__5() <span style=\"color:gray\">&#43;</span>37\r\nSystem.Web.Mvc.Async.&lt;<span style=\"color:gray\">&gt;</span>c__DisplayClass1.&lt;MakeVoidDelegate<span style=\"color:gray\">&gt;</span>b__0() <span style=\"color:gray\">&#43;</span>21\r\nSystem.Web.Mvc.Async.&lt;<span style=\"color:gray\">&gt;</span>c__DisplayClass8`1.&lt;BeginSynchronous<span style=\"color:gray\">&gt;</span>b__7(IAsyncResult _) <span style=\"color:gray\">&#43;</span>12\r\nSystem.Web.Mvc.Async.WrappedAsyncResult`1.End() <span style=\"color:gray\">&#43;</span>62\r\nSystem.Web.Mvc.&lt;<span style=\"color:gray\">&gt;</span>c__DisplayClasse.&lt;EndProcessRequest<span style=\"color:gray\">&gt;</span>b__d() <span style=\"color:gray\">&#43;</span>50\r\nSystem.Web.Mvc.SecurityUtil.&lt;GetCallInAppTrustThunk<span style=\"color:gray\">&gt;</span>b__0(Action f) <span style=\"color:gray\">&#43;</span>7\r\nSystem.Web.Mvc.SecurityUtil.ProcessInApplicationTrust(Action action) <span style=\"color:gray\">&#43;</span>22\r\nSystem.Web.Mvc.MvcHandler.EndProcessRequest(IAsyncResult asyncResult) <span style=\"color:gray\">&#43;</span>60\r\nSystem.Web.Mvc.MvcHandler.System.Web.IHttpAsyncHandler.EndProcessRequest(IAsyncResult result) <span style=\"color:gray\">&#43;</span>9\r\nSystem.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() <span style=\"color:gray\">&#43;</span>8970061\r\nSystem.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously) <span style=\"color:gray\">&#43;</span>184\r\n<span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span><span style=\"color:gray\">--</span>\r\nMicrosoft .NET Framework:4.0.30319; ASP.NET:4.0.30319.272 \r\n</pre>\r\n</div>\r\n<span><br></span></code></pre>\r\n</li></ul>\r\n<p>I don't know what to do to resolve it.</p>\r\n<p>Thank You in advance,</p>\r\n<p>Max</p>\r\n</div>\r\n",
    "PostedDate": "2012-06-30T09:35:03.987-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "856136",
    "ThreadId": "361498",
    "Html": "<p>Max, I haven't tried using MySQL with EF Code First. Some readers have posted about how they've gotten it to work - <a href=\"http://mvcmusicstore.codeplex.com/discussions/249270\">http://mvcmusicstore.codeplex.com/discussions/249270</a></p>",
    "PostedDate": "2012-07-01T20:37:26.27-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]
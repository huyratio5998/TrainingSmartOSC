[
  {
    "Id": "919464",
    "ThreadId": "397409",
    "Html": "\r\n<p>Hi.</p>\r\n<p>I am on Part 5 of the tutorial. When I try to add the StoreManagerController I get an error saying:</p>\r\n<p><em>Unable to retrieve metadata for 'MusicStore.Models.Album'. Using the same DbCompiledModel to create context against different types of database servers is not supported. Instead, create a separate DbCompiledModel for each type of server being used.</em></p>\r\n<p>Apparently VS added some default database when I made the models, I thought I had removed all the code but obviously not. I am entirely new to .NET so all the magic it is doing is unfamiliar to me. I found out I had two databases running and disconnected\r\n the wrong one and have checked my code against the source code and haven't found anything else that wasn't supposed to be there.</p>\r\n<p>I am using Microsoft Visual Studio 2012 and am following the tutorial by the letter. Any help is much appreciated.</p>\r\n",
    "PostedDate": "2012-09-29T12:08:55.01-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "924241",
    "ThreadId": "397409",
    "Html": "\r\n<p>I am on part 5 and am receiving this exact same error!&nbsp; Does anyone have a solution for this?&nbsp; I have followed the tutorial step-by-step!</p>\r\n<p>I am doing the tutorial in VB, and have MVC 4 as opposed to MVC 3.</p>\r\n<p>TIA!</p>\r\n",
    "PostedDate": "2012-10-09T12:48:13.933-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "924270",
    "ThreadId": "397409",
    "Html": "\r\n<p>OK - I am not sure why this is, but I found a workaround for this issue and I thought I would post it for you mnlia in case you are still having trouble.</p>\r\n<p>Go to your web.config file and locate the following line of code that you added in one of the earlier tutorial steps:&nbsp;</p>\r\n<p><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"></p>\r\n<p>&lt;<span style=\"font-family:Consolas; color:#a31515; font-size:x-small\"><span style=\"font-family:Consolas; color:#a31515; font-size:x-small\"><span style=\"font-family:Consolas; color:#a31515; font-size:x-small\">add</span></span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">\r\n</span></span></span><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\"><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\"><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\">name</span></span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">=</span></span></span><span style=\"font-family:Consolas; font-size:x-small\"><span style=\"font-family:Consolas; font-size:x-small\">&quot;</span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">MusicStoreEntities</span></span></span><span style=\"font-family:Consolas; font-size:x-small\"><span style=\"font-family:Consolas; font-size:x-small\">&quot;</span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">\r\n</span></span></span><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\"><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\"><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\">connectionString</span></span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">=</span></span></span><span style=\"font-family:Consolas; font-size:x-small\"><span style=\"font-family:Consolas; font-size:x-small\">&quot;</span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">Data\r\n Source=|DataDirectory|MvcMusicStore.sdf</span></span></span><span style=\"font-family:Consolas; font-size:x-small\"><span style=\"font-family:Consolas; font-size:x-small\">&quot;</span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">\r\n</span></span></span><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\"><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\"><span style=\"font-family:Consolas; color:#ff0000; font-size:x-small\">providerName</span></span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">=</span></span></span><span style=\"font-family:Consolas; font-size:x-small\"><span style=\"font-family:Consolas; font-size:x-small\">&quot;</span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">System.Data.SqlServerCe.4.0</span></span></span><span style=\"font-family:Consolas; font-size:x-small\"><span style=\"font-family:Consolas; font-size:x-small\">&quot;</span></span></p>\r\n</span></span></span></span></span></span></span></span>\r\n<p><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">/&gt;</span></span></span><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\"><span style=\"font-family:Consolas; color:#0000ff; font-size:x-small\">&nbsp;</span></span></p>\r\n</span></span></span></span></span></span></span></span>\r\n<p>Delete it or comment it out and build the project&nbsp;- then create the StoreManagerController and it should work without issue.&nbsp; Once the controller and all the associated files have been created, then you can add your connection string back to the\r\n web.config file.&nbsp; I am not sure why this connection string existing is causing this error, but this will allow you to finish the tutorial.</p>\r\n<p>&nbsp;</p>\r\n<p></p>\r\n",
    "PostedDate": "2012-10-09T13:30:35.103-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "946260",
    "ThreadId": "397409",
    "Html": "\r\n<p>Thank you for this solution. It&nbsp;worked great for me.</p>\r\n<p>As you instructed,&nbsp;I commented out the connection string in the <span>web.config file&nbsp;</span>and then I was able to successfully create the StoreManagerController&nbsp;controller as the lesson instructed.</p>\r\n<p>Thanks again,</p>\r\n<p>Micky</p>\r\n",
    "PostedDate": "2012-11-23T13:57:37.963-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1011588",
    "ThreadId": "397409",
    "Html": "<a href=\"mailto:@bjthomps.\r\n\r\nThanks,\" rel=\"nofollow\">@bjthomps.\r\n\r\nThanks,</a> that did it!\r<br />\n<br />\n/K<br />\n",
    "PostedDate": "2013-03-06T23:45:59.587-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1012912",
    "ThreadId": "397409",
    "Html": "works<br />\n",
    "PostedDate": "2013-03-10T01:33:39.55-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1033011",
    "ThreadId": "397409",
    "Html": "Funciona mesmo!!!\r<br />\n<br />\nReally works!!!<br />\n",
    "PostedDate": "2013-04-19T06:35:26.33-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1033458",
    "ThreadId": "397409",
    "Html": "Doesn't work for me unfortunately. After commenting out the DB Connection string, I receive the following message:\r<br />\n<br />\n&quot;Could not load type 'MyMusicStore.Models.Album' from assembly [...]&quot;\r<br />\n<br />\nAnyone else having this issue?\r<br />\n<br />\nAlso does anybody know the reasons for these two problems?\r<br />\n<br />\nI'll just try continuing without the scaffolding...<br />\n",
    "PostedDate": "2013-04-20T16:28:05.897-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1035976",
    "ThreadId": "397409",
    "Html": "<strong>bjthomps wrote:</strong><br />\n<blockquote>\nOK - I am not sure why this is, but I found a workaround for this issue and I thought I would post it for you mnlia in case you are still having trouble. Go to your web.config file and locate the following line of code that you added in one of the earlier tutorial steps:&nbsp;  &lt;add name=&quot;MusicStoreEntities&quot; connectionString=&quot;Data Source=|DataDirectory|MvcMusicStore.sdf&quot; providerName=&quot;System.Data.SqlServerCe.4.0&quot;  /&gt;&nbsp;  Delete it or comment it out and build the project&nbsp;- then create the StoreManagerController and it should work without issue.&nbsp; Once the controller and all the associated files have been created, then you can add your connection string back to the web.config file.&nbsp; I am not sure why this connection string existing is causing this error, but this will allow you to finish the tutorial. &nbsp;<br />\n</blockquote>\nYes! It's works!!!<br />\n",
    "PostedDate": "2013-04-26T02:09:18.153-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1037912",
    "ThreadId": "397409",
    "Html": "its work for me.. \r<br />\njust delete &lt;add name=&quot;MusicStoreEntities&quot; connectionString=&quot;Data Source=|DataDirectory|MvcMusicStore.sdf&quot; providerName=&quot;System.Data.SqlServerCe.4.0&quot; /&gt; or make this become a comment, and you can make StoreManagerController.<br />\n",
    "PostedDate": "2013-04-30T18:42:40.36-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1040112",
    "ThreadId": "397409",
    "Html": "I had a very similar issue while trying to create the StoreManagerController. The error I got was: &quot;Unable to retrieve metadata for model object MvcMusicStore.Models.Album. Object reference not set to an instance of an object.&quot;\r<br />\n<br />\nWhat I noticed is that the following line in the web.config files wasn't properly resolved:\r<br />\n<br />\n&lt;section name=&quot;entityFramework&quot; type=&quot;System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=5.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&quot; requirePermission=&quot;false&quot; /&gt;\r<br />\n<br />\nSo I went ahead and re-installed the EntityFramework from the Package Manager Console by typing Install-Package EntityFramework, and that solved the problem.\r<br />\n<br />\nNote: I was following the Music Store tutorial with MVC 4.\r<br />\n<br />\nRegards,<br />\n",
    "PostedDate": "2013-05-06T14:52:25.623-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1040341",
    "ThreadId": "397409",
    "Html": "Unsupported Context Type Error when trying to add StoreManagerController. any help?<br />\n",
    "PostedDate": "2013-05-07T05:22:05.47-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1041185",
    "ThreadId": "397409",
    "Html": "Hey guys, I'm experiencing a different error than everyone else. I have a feeling it has something to do with my version of SQL server installed.  It basically says the following:<br />\n<ul>\n<li>\n<strong>System.Data.Entity.Edm.EdmEntityType: : EntityType 'Album' has no key defined. Define the key for this EntityType.</strong><br />\n</li>\n<li>\n<strong>System.Data.Entity.Edm.EdmEntityType: EntityType: EntitySet 'Albums' is based on type 'Album' that has no keys defined.</strong><br />\n</li>\n</ul>\nSo did I miss a step in the tutorial somewhere?\r<br />\n<br />\nI already tried all the other suggestions. It does seem to generate the MusicStoreDBContext connection string when trying to create the controller, even when throwing the error. So I delete the connection string and try again and get the same error as above.  Any ideas?<br />\n",
    "PostedDate": "2013-05-08T21:15:13.567-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1075790",
    "ThreadId": "397409",
    "Html": "<strong>bjthomps wrote:</strong><br />\n<blockquote>\nOK - I am not sure why this is, but I found a workaround for this issue and I thought I would post it for you mnlia in case you are still having trouble. Go to your web.config file and locate the following line of code that you added in one of the earlier tutorial steps:&nbsp;  &lt;add name=&quot;MusicStoreEntities&quot; connectionString=&quot;Data Source=|DataDirectory|MvcMusicStore.sdf&quot; providerName=&quot;System.Data.SqlServerCe.4.0&quot;  /&gt;&nbsp;  Delete it or comment it out and build the project&nbsp;- then create the StoreManagerController and it should work without issue.&nbsp; Once the controller and all the associated files have been created, then you can add your connection string back to the web.config file.&nbsp; I am not sure why this connection string existing is causing this error, but this will allow you to finish the tutorial. &nbsp;<br />\n</blockquote>\nFYI - I had the same issue as the Original Poster, and this fixed my error.<br />\n<br />\nThanks!<br />\n<br />\n[edit] In order to see the data again, I had to go back and uncomment that line after setting up the StoreManager controller.  After a rebuild, I was  able to see the rest of the Data.<br />\n",
    "PostedDate": "2013-08-01T16:36:52.83-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1085960",
    "ThreadId": "397409",
    "Html": "I was storing my model in a separated DocumentLibrary project. I had to add the reference to the EntityFramework.dll to my MVC4 project. Hope this will be helpful for someone.<br />\n",
    "PostedDate": "2013-08-28T14:34:51.713-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1109023",
    "ThreadId": "397409",
    "Html": "it helps a lot!! thank you!!<br />\n",
    "PostedDate": "2013-10-17T19:57:49.25-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1216781",
    "ThreadId": "397409",
    "Html": "Thnak you it works....<br />\n",
    "PostedDate": "2014-03-01T23:02:18.52-08:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1232330",
    "ThreadId": "397409",
    "Html": "tanq it  works.............<br />\n",
    "PostedDate": "2014-04-09T06:58:33.563-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1287315",
    "ThreadId": "397409",
    "Html": "The solution by <em>bjthomps</em> works fine to me too.\r<br />\nThanks.<br />\n",
    "PostedDate": "2014-08-06T13:35:21.553-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1318062",
    "ThreadId": "397409",
    "Html": "Hello, the error was in the file <strong>web.config</strong>, if you delete in the <strong>providerName__=&quot;System.Data.SqlServerCe</strong>.4.0_&quot; the <strong>.4.0</strong> the error solved. Because the provider name  was wrong. Slds<br />\n",
    "PostedDate": "2014-10-31T12:15:06.05-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  },
  {
    "Id": "1318063",
    "ThreadId": "397409",
    "Html": "Slds<br />\n",
    "PostedDate": "2014-10-31T12:16:14.05-07:00",
    "UserRole": null,
    "MarkedAsAnswerDate": null
  }
]